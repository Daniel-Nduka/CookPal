<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Recipe</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script>
      document.addEventListener('DOMContentLoaded', function() {
          document.querySelector('form').addEventListener('submit', function(e) {
              e.preventDefault();
        
              document.querySelectorAll('.error-message').forEach(el => el.remove());

              let isValid = true;

              if (!document.getElementById('UploadImage').files.length) {
                displayError('UploadImage', 'Please upload at least one picture.');
                isValid = false;
              }

              if (!document.getElementById('create-name').value.trim()) {
                displayError('create-name', 'Title cannot be empty.');
                isValid = false;
              }

              let typeSelect = document.getElementById('search-type');
              let typeOptionText = typeSelect.options[typeSelect.selectedIndex].text;
              let originSelect = document.getElementById('search-origin');
              let originOptionText = originSelect.options[originSelect.selectedIndex].text;

              if (typeOptionText === 'Select a type') {
                displayError('search-type', 'Please select a type of recipe.');
                isValid = false;
              }

              if (originOptionText === 'Select origin') {
                displayError('search-origin', 'Please select the origin of the recipe.');
                isValid = false;
              }

              if (!document.getElementById('Ingredient').value.trim()) {
                displayError('Ingredient', 'Ingredients cannot be empty.');
                isValid = false;
              }

              if (!document.getElementById('Instruction').value.trim()) {
                displayError('Instruction', 'Instructions cannot be empty.');
                isValid = false;
              }

              if (isValid) {
                  console.log('Recipe Information:');
                  console.log('Title: ' + document.getElementById('create-name').value);
                  console.log('Type of Recipe: ' + typeOptionText);
                  console.log('Origin of Recipe: ' + originOptionText);
                  console.log('Ingredients: ' + document.getElementById('Ingredient').value);
                  console.log('Instructions: ' + document.getElementById('Instruction').value);
                }
              });

              function displayError(elementId, message) {
                let element = document.getElementById(elementId);
                let errorMessage = document.createElement('div');
                errorMessage.innerHTML = message;
                errorMessage.style.color = 'red';
                errorMessage.className = 'error-message';
                element.parentNode.insertBefore(errorMessage, element.nextSibling);
              }
            });
    </script>
</head>
<body>
  <header class="p-3 mb-3 border-bottom">
      <div class="container">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
          <span class="fs-4">CookPal</span>
          <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
            <li><a href="#" class="nav-link px-2 link-secondary">Homepage</a></li>
          </ul>
        </div>
      </div>
    </header>

    <div class="container mt-5">

      <h2>Create a new Recipe</h2>

      <form>
        <div class="mb-3">
          <label for="UploadImage" class="form-label">Upload your pictures</label>
          <input class="form-control" type="file" id="UploadImage" accept="image/*" multiple>
        </div>

        <div class="mb-3">
          <label for="create-name" class="form-label">Title</label>
          <input class="form-control me-2" type="text" id="create-name" placeholder="" aria-label="create">
        </div>

        <div class="mb-3">
          <label for="search-type" class="form-label">Type of Recipe</label>
          <select class="form-select" id="search-type" aria-label="select-type">
              <option selected>Select a type</option>
              <option value="1">Appetizer</option>
              <option value="2">Dessert</option>
              <option value="3">Drink</option>
              <option value="4">Entree</option>
              <option value="5">Salad</option>
              <option value="6">Other</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="search-origin" class="form-label">Origin of Recipe</label>
          <select class="form-select" id="search-origin" aria-label="select-origin">
              <option selected>Select origin</option>
              <option value="1">Italian</option>
              <option value="2">Indian</option>
              <option value="3">French</option>
              <option value="4">Mexican</option>
              <option value="5">Asian</option>
              <option value="6">Other</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="Ingredients" class="form-label mt-3">Ingredients</label>
          <textarea class="form-control" id="Ingredient" rows="3"></textarea>
        </div>

        <div class="mb-3">
          <label for="Instruction" class="form-label mt-3">Instructions</label>
          <textarea class="form-control" id="Instruction" rows="6"></textarea>
        </div>

        <button type="submit" class="btn btn-primary mt-3">Submit</button>
      </form>

      <footer class="pt-3 mt-4 text-body-secondary border-top">
        Â© 2024 Group 27 
      </footer>
    </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>